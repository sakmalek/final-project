(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(57),r=n.n(o),i=(n(162),n(163),n(14)),s=n(17),l=n(9),j=n(260),u=n(268),d=n(140),b=n(256),h=n(263),x=n(254),m=n(252),O=n(37),g=n(20),p=n.n(g),f=n(1),v=function(){var e=Object(i.g)(),t=Object(a.useState)({}),n=Object(l.a)(t,2),o=n[0],r=n[1],g=Object(a.useState)(void 0),v=Object(l.a)(g,2),C=v[0],S=v[1],y=c.a.useState(!1),w=Object(l.a)(y,2),k=w[0],A=w[1],_=localStorage.getItem("authToken"),M=function(e,t){"clickaway"!==t&&A(!1)};return Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,onSubmit:function(t){t.preventDefault(),p.a.post("/auth/signup",o,{headers:{Authorization:"Bearer ".concat(_)}}).then((function(){return e("/login")})).catch((function(e){S(e.response.data.message),A(!0)}))},component:"form",direction:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",minWidth:"100vw",children:[Object(f.jsxs)(u.a,{style:{minWidth:"19rem"},elevation:5,children:[Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[" ",Object(f.jsx)(d.a,{style:{textAlign:"center"},sx:{ml:3,mr:3,mt:1,mb:1},variant:"h6",component:"div",gutterBottom:!0,children:"Signup"})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"16rem"},sx:{ml:3,mr:3,mt:1,mb:1},id:"outlined-basic",name:"username",label:"Username",variant:"outlined",onChange:function(e){return r(Object(s.a)(Object(s.a)({},o),{},{username:e.target.value}))}})," "]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"16rem"},sx:{ml:3,mr:3,mt:1,mb:1},name:"email",label:"E-Mail",variant:"outlined",onChange:function(e){return r(Object(s.a)(Object(s.a)({},o),{},{email:e.target.value}))}})," "]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"16rem"},sx:{ml:3,mr:3,mt:1,mb:1},name:"password",type:"password",label:"Password",variant:"outlined",onChange:function(e){return r(Object(s.a)(Object(s.a)({},o),{},{password:e.target.value}))}})]}),Object(f.jsx)(j.a,{item:!0,xs:12,textAlign:"center",children:Object(f.jsx)(h.a,{sx:{ml:3,mr:3,mt:1,mb:1},type:"submit",children:"Signup"})}),Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsxs)(d.a,{style:{textAlign:"center"},sx:{ml:3,mr:3,mt:1,mb:1},variant:"h7",component:"div",children:["Do you have an account? ",Object(f.jsx)(O.b,{to:"/login",children:"login"})]})})]}),Object(f.jsx)(x.a,{open:k,autoHideDuration:6e3,onClose:M,children:Object(f.jsx)(m.a,{onClose:M,severity:"error",sx:{width:"100%"},children:C})})]})},C=c.a.createContext();function S(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),j=s[0],u=s[1],d=Object(a.useState)(!0),b=Object(l.a)(d,2),h=b[0],x=b[1],m=Object(i.g)(),O=function(){var e=localStorage.getItem("authToken");e?p.a.get("/auth/verify",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data;u(t),o(!0),x(!1),m("/")})).catch((function(e){o(!1),u(null),x(!1)})):x(!1)};return Object(a.useEffect)((function(){O()}),[]),Object(f.jsx)(C.Provider,{value:{isLoggedIn:c,user:j,isLoading:h,loginUser:function(e){localStorage.setItem("authToken",e),O()},logoutUser:function(){localStorage.removeItem("authToken"),o(!1),u(null)}},children:e.children})}var y=function(){var e=Object(i.g)(),t=Object(a.useContext)(C).loginUser,n=Object(a.useState)({}),o=Object(l.a)(n,2),r=o[0],g=o[1],v=Object(a.useState)(void 0),S=Object(l.a)(v,2),y=S[0],w=S[1],k=c.a.useState(!1),A=Object(l.a)(k,2),_=A[0],M=A[1],I=localStorage.getItem("authToken"),B=function(e,t){"clickaway"!==t&&M(!1)};return Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,onSubmit:function(n){n.preventDefault(),p.a.post("/auth/login",r,{headers:{Authorization:"Bearer ".concat(I)}}).then((function(n){console.log(n.data.authToken);var a=n.data.authToken;t(a),e("/")})).catch((function(e){w(e.response.data.message),M(!0)}))},component:"form",direction:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",minWidth:"100vw",children:[Object(f.jsxs)(u.a,{style:{minWidth:"19rem"},elevation:5,children:[Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[" ",Object(f.jsx)(d.a,{style:{textAlign:"center"},sx:{ml:3,mr:3,mt:1,mb:1},variant:"h6",component:"div",gutterBottom:!0,children:"Login"})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"16rem"},sx:{ml:3,mr:3,mt:1,mb:1},name:"email",label:"E-Mail",variant:"outlined",onChange:function(e){return g(Object(s.a)(Object(s.a)({},r),{},{email:e.target.value}))}})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"16rem"},sx:{ml:3,mr:3,mt:1,mb:1},name:"password",type:"password",label:"Password",variant:"outlined",onChange:function(e){return g(Object(s.a)(Object(s.a)({},r),{},{password:e.target.value}))}})]}),Object(f.jsx)(j.a,{item:!0,xs:12,textAlign:"center",children:Object(f.jsx)(h.a,{sx:{ml:3,mr:3,mt:1,mb:1},type:"submit",children:"Login"})}),Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsxs)(d.a,{style:{textAlign:"center"},sx:{ml:3,mr:3,mt:1,mb:1},variant:"h7",component:"div",children:["Don't have an account? ",Object(f.jsx)(O.b,{to:"/signup",children:"signup"})]})}),Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsxs)(d.a,{style:{textAlign:"center"},sx:{ml:3,mr:3,mt:1,mb:1},variant:"h9",component:"div",children:["Forgot your Password? ",Object(f.jsx)(O.b,{to:"#password",children:"reset"})]})})]}),Object(f.jsx)(x.a,{open:_,autoHideDuration:6e3,onClose:B,children:Object(f.jsx)(m.a,{onClose:B,severity:"error",sx:{width:"100%"},children:y})})]})},w=n(273),k=n(255),A=n(274),_=n(275),M=n(249),I=n(105),B=n.n(I),E=n(276),T=function(e){var t=e.channels,n=e.conversations,c=e.setConversationId,o=e.setChannelId,r=Object(a.useContext)(C).user;return t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(k.a,{sx:{m:.5,backgroundColor:"#032051db",color:"orange"},defaultExpanded:!0,children:[Object(f.jsx)(A.a,{expandIcon:Object(f.jsx)(B.a,{sx:{color:"orange"}}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(f.jsx)(d.a,{children:"Channels"})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(d.a,{children:Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsx)(M.a,{title:e.description,placement:"top",children:Object(f.jsx)(h.a,{sx:{color:"orange"},onClick:function(){o(e._id),c(null)},children:"# - ".concat(e.name)})},e._id)}))})})})]}),Object(f.jsxs)(k.a,{sx:{m:.5,backgroundColor:"#032051db",color:"yellow"},defaultExpanded:!0,children:[Object(f.jsx)(A.a,{expandIcon:Object(f.jsx)(B.a,{sx:{color:"yellow"}}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(f.jsx)(d.a,{children:" Conversations"})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(d.a,{children:Object(f.jsx)(f.Fragment,{children:n&&n.map((function(e){return Object(f.jsxs)(E.a,{sx:{display:"flex",width:"100%",pb:1},children:[Object(f.jsx)("img",{style:{width:"40px",borderRadius:"50%"},alt:"",src:"https://lh3.googleusercontent.com/ffFwGD7OMmSsvlcJmpKd5l5Y-wLwgcp7cYr5OG1AruAicX9QwROjNB29m9XIBlhHqmyVk644QTjZgj-haJ7ModBZdkr79dpg9Adc8Y4"}),Object(f.jsx)(h.a,{sx:{color:"yellow"},onClick:function(){o(null),c(e.user_1_id._id)},children:r._id!==e.user_1_id._id&&"".concat(e.user_1_id.username)||"".concat(e.user_2_id.username)})]},e._id)}))})})})]})]}):Object(f.jsx)(w.a,{sx:{position:"relative",top:"50%",left:"50%"},color:"primary"})},P=n(281),z=n(282),D=n(283),F=n(284),L=n(247),H=n(246),R=n(285),U=n(27),W=n(245),Y=n(272),G=n(126),J=n.n(G),Q=n(128),X=n.n(Q);function Z(e){var t=e.conversationId,n=e.channelId,c=e.post,o=e.setPost,r=Object(a.useContext)(C).user,i=Object(a.useState)(""),s=Object(l.a)(i,2),j=s[0],d=s[1],b=localStorage.getItem("authToken");return Object(f.jsxs)(u.a,{component:"form",sx:{display:"flex",alignItems:"center",height:"75px",width:"100%",backgroundColor:"#ffffffab"},onSubmit:function(e){e.preventDefault();var a={sender_id:r._id,conversation_id:t,channel_id:n,type:"text",source:j};p.a.put("/message",a,{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){console.log(e.data),o(!c),d("")})).catch((function(e){return console.log(e)}))},children:[Object(f.jsx)(Y.a,{sx:{p:"10px"},"aria-label":"menu",children:Object(f.jsx)(J.a,{})}),Object(f.jsx)(U.c,{autoComplete:"off",sx:{ml:1,flex:1},placeholder:"Message",name:"message",value:j,onChange:function(e){return d(e.target.value)}}),Object(f.jsx)(W.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(f.jsx)(Y.a,{type:"submit",color:"primary",sx:{p:"10px"},children:Object(f.jsx)(X.a,{})})]})}var N=function(e){var t=e.channelId,n=e.conversationId,c=Object(a.useContext)(C).user,o=Object(a.useState)([]),r=Object(l.a)(o,2),i=r[0],s=r[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],x=b[1],m=Object(a.useRef)(null),O=function(e){var t=Date.parse(e),n=new Date(t);return"".concat(n.getDay(),"/").concat(n.getMonth(),"/").concat(n.getFullYear()," - ").concat(n.getHours(),":").concat(n.getMinutes())},g=localStorage.getItem("authToken");Object(a.useEffect)((function(){t&&p.a.get("message/".concat(t,"/channel"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){s(e.data),console.log("MESSAGES",i),v()})).catch((function(e){return console.log(e)}))}),[t,h]),Object(a.useEffect)((function(){n&&p.a.get("message/".concat(n,"/conversation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){s(e.data),v()})).catch((function(e){return console.log(e)}))}),[n,h]);var v=function(){m.current.scrollIntoView({behavior:"smooth"})};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(P.a,{sx:{color:"white",m:0,p:0},position:"right",children:[0!==i.length&&i.map((function(e){return Object(f.jsxs)(z.a,{position:c._id===e.sender_id._id?"right":"left",children:[Object(f.jsx)(H.a,{sx:{m:"auto 0"},align:"right",variant:"body2",color:"white",fontWeight:"bold",children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{style:{color:"orange"},children:e.sender_id&&e.sender_id.username.toUpperCase()})})}),Object(f.jsxs)(D.a,{children:[Object(f.jsx)(F.a,{}),Object(f.jsx)(R.a,{children:Object(f.jsx)("img",{style:{width:"40px",borderRadius:"50%"},alt:"",src:"https://lh3.googleusercontent.com/ffFwGD7OMmSsvlcJmpKd5l5Y-wLwgcp7cYr5OG1AruAicX9QwROjNB29m9XIBlhHqmyVk644QTjZgj-haJ7ModBZdkr79dpg9Adc8Y4"})}),Object(f.jsx)(F.a,{})]}),Object(f.jsxs)(L.a,{sx:{py:"12px",px:2},children:[Object(f.jsx)(d.a,{variant:"h6",component:"span",children:e.source}),Object(f.jsx)(d.a,{sx:{fontSize:"12px",color:"orange"},children:O(e.updatedAt)})]})]},e._id)})),Object(f.jsx)("div",{style:{height:"100px"},ref:m})]}),Object(f.jsx)(j.a,{item:!0,xs:12,sx:{position:"absolute",bottom:"1rem",width:"90%",pl:2},children:(t||n)&&Object(f.jsx)(Z,{channelId:t,conversationId:n,post:h,setPost:x,sx:{m:0,p:0}})})]})},V=n(277),q=n(278),K=n(259),$=n(258),ee=n(136),te=n(131),ne=n.n(te),ae=n(132),ce=n.n(ae);function oe(e){var t=e.openEditProfileModel,n=e.setOpenEditProfileModel,c=Object(a.useContext)(C).logoutUser,o=a.useState(null),r=Object(l.a)(o,2),i=r[0],s=r[1],j=Boolean(i),u=function(){s(null)},d="primary-search-account-menu",b=Object(f.jsxs)(ee.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:d,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:u,children:[Object(f.jsx)($.a,{onClick:function(){n(!t)},children:"Profile"}),Object(f.jsx)(W.a,{light:!0}),Object(f.jsx)($.a,{onClick:u,children:"Delete Account"}),Object(f.jsx)(W.a,{light:!0}),Object(f.jsx)($.a,{onClick:function(){c(),s(null)},children:"Logout"})]});return Object(f.jsxs)(E.a,{sx:{flexGrow:1},children:[Object(f.jsx)(V.a,{position:"static",children:Object(f.jsx)(q.a,{sx:{backgroundColor:"#273f6a"},children:Object(f.jsxs)(E.a,{sx:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(f.jsx)(Y.a,{size:"large",edge:"end","aria-controls":d,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(f.jsx)(ne.a,{})}),Object(f.jsx)(Y.a,{size:"large",color:"inherit",children:Object(f.jsx)(K.a,{badgeContent:1,color:"error",children:Object(f.jsx)(ce.a,{})})})]})})}),b]})}var re=n(264),ie=n(265),se=n(280),le=n(133),je=n.n(le),ue=n(134),de=n.n(ue),be=[{icon:Object(f.jsx)(je.a,{}),name:"Start Conversation",id:1},{icon:Object(f.jsx)(de.a,{}),name:"Create Channel",id:2}];function he(e){var t=e.openAddChannelModel,n=e.setOpenAddChannelModel,a=e.openStartConversationModel,c=e.setOpenStartConversationModel;return Object(f.jsx)(j.a,{item:!0,lg:2,md:2,xs:12,children:Object(f.jsx)(re.a,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:16,right:16},icon:Object(f.jsx)(ie.a,{}),children:be.map((function(e){return Object(f.jsx)(se.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(o){1===e.id&&n(!t),2===e.id&&c(!a)}},e.name)}))})})}var xe=n(262),me=n(251),Oe=n(240),ge=n(28),pe=n(261),fe=n(257),ve=n(271),Ce=n(253);function Se(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function ye(e){var t=e.users,n=(e.channelMembers,e.setChannelMembers),c=Object(ge.a)(),o=Object(a.useState)([]),r=Object(l.a)(o,2),i=r[0],s=r[1];return Object(f.jsx)("div",{children:Object(f.jsxs)(ve.a,{sx:{m:1,width:300},children:[Object(f.jsx)(fe.a,{children:"Users"}),Object(f.jsx)(Ce.a,{multiple:!0,value:i,onChange:function(e){var t=e.target.value;!function(e){var t=e.map((function(e){return e._id}));n(t)}(t),s("string"===typeof t?t.split(","):t)},input:Object(f.jsx)(pe.a,{label:"Users"}),children:t.map((function(e){return Object(f.jsx)($.a,{value:e,style:Se(e.username,i,c),children:e.username},e._id)}))})]})})}var we={position:"absolute",top:"50%",left:"50%",transform:"translate(-30%, -50%)",width:"50%",height:"50%",borderRadius:"10px",bgcolor:"white",border:"1px solid #000",boxShadow:24,p:4};function ke(e){var t=e.openAddChannelModel,n=e.setOpenAddChannelModel,c=e.submitted,o=e.setSubmitted,r=Object(a.useContext)(C).user,i=function(){return n(!1)},u=Object(a.useState)({owner_id:r._id}),x=Object(l.a)(u,2),m=x[0],O=x[1],g=Object(a.useState)({}),v=Object(l.a)(g,2),S=v[0],y=v[1],w=Object(a.useState)([]),k=Object(l.a)(w,2),A=k[0],_=k[1],M=localStorage.getItem("authToken");Object(a.useEffect)((function(){p.a.get("/user",{headers:{Authorization:"Bearer ".concat(M)}}).then((function(e){return y(e.data)})).catch((function(e){return console.log(e)}))}),[t]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(me.a,{open:t,onClose:i,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(f.jsx)(Oe.a,{in:t,children:Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,sx:we,onSubmit:function(e){e.preventDefault();var t=Object(s.a)(Object(s.a)({},m),{},{member_ids:A});p.a.put("/channel",t,{headers:{Authorization:"Bearer ".concat(M)}}).then((function(){o(!c),i()})).catch((function(e){return console.log(e)}))},component:"form",children:[Object(f.jsx)(j.a,{item:!0,xs:12,container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(f.jsx)(d.a,{style:{textAlign:"center"},sx:{m:1},variant:"h6",component:"div",color:"primary",gutterBottom:!0,children:"Create your channel"})}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"name",label:"Name",variant:"outlined",autoComplete:"off",onChange:function(e){return O(Object(s.a)(Object(s.a)({},m),{},{name:e.target.value}))}})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"description",type:"text",label:"Description",variant:"outlined",autoComplete:"off",onChange:function(e){return O(Object(s.a)(Object(s.a)({},m),{},{description:e.target.value}))}})]}),Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsx)(ye,{users:S,channelMembers:A,setChannelMembers:_,style:{width:"100%"},sx:{m:1}})}),Object(f.jsx)(j.a,{item:!0,xs:12,textAlign:"center",children:Object(f.jsx)(h.a,{sx:{ml:3,mr:3,mt:1,mb:1},type:"submit",children:"Create"})})]})})})})}var Ae=n(266),_e=n(267),Me={position:"absolute",top:"50%",left:"50%",transform:"translate(-30%, -50%)",width:"50%",height:"50%",borderRadius:"10px",bgcolor:"white",border:"1px solid #000",boxShadow:24,p:4};function Ie(e){var t=e.openStartConversationModel,n=e.setOpenStartConversationModel,c=e.submitted,o=e.setSubmitted,r=Object(a.useContext)(C).user,i=function(){return n(!1)},s=Object(a.useState)([]),u=Object(l.a)(s,2),d=u[0],b=u[1],h=localStorage.getItem("authToken");Object(a.useEffect)((function(){p.a.get("/user",{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){console.log(e.data),b(e.data)})).catch((function(e){return console.log(e)}))}),[t]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(me.a,{open:t,onClose:i,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(f.jsx)(Oe.a,{in:t,children:Object(f.jsx)(j.a,{item:!0,xs:12,container:!0,sx:Me,children:0!==d.length&&d.map((function(e){return r._id!==e._id&&Object(f.jsx)(Ae.a,{sx:{m:1},onClick:function(){return function(e){var t={user_1_id:r._id,user_2_id:e};p.a.put("/conversation",t,{headers:{Authorization:"Bearer ".concat(h)}}).then((function(){o(!c),i()})).catch((function(e){return console.log(e)}))}(e._id)},avatar:Object(f.jsx)(_e.a,{alt:"user",src:e.profile.image_url}),label:e.profile.username,variant:"outlined"})}))})})})})}var Be={position:"absolute",top:"50%",left:"50%",transform:"translate(-30%, -50%)",width:"50%",height:"50%",borderRadius:"10px",bgcolor:"white",border:"1px solid #000",boxShadow:24,p:4};function Ee(e){var t=e.openEditProfileModel,n=e.setOpenEditProfileModel,c=e.submitted,o=e.setSubmitted,r=Object(a.useContext)(C).user,i=function(){return n(!1)},u=Object(a.useState)({}),d=Object(l.a)(u,2),x=d[0],m=d[1],O=localStorage.getItem("authToken");console.log(O),Object(a.useEffect)((function(){p.a.get("/user/".concat(r._id),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){m(e.data.profile)})).catch((function(e){return console.log(e)}))}),[t]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(me.a,{open:t,onClose:i,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(f.jsx)(Oe.a,{in:t,children:Object(f.jsxs)(j.a,{item:!0,xs:12,container:!0,sx:Be,spacing:2,onSubmit:function(e){e.preventDefault();var t={bio:x.bio,lastname:x.lastname,firstname:x.firstname,username:x.username,email:x.email};p.a.post("/profile/".concat(x._id),t,{headers:{Authorization:"Bearer ".concat(O)}}).then((function(){o(!c),i()})).catch((function(e){return console.log(e)}))},component:"form",children:[Object(f.jsx)(j.a,{item:!0,xs:2,sx:{alignSelf:"center"},children:Object(f.jsx)("img",{style:{width:"60px",borderRadius:"50%"},alt:"",src:x.image_url})}),Object(f.jsxs)(j.a,{item:!0,xs:10,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"bio",label:"bio",variant:"outlined",autoComplete:"off",value:x.bio,onChange:function(e){return m(Object(s.a)(Object(s.a)({},x),{},{bio:e.target.value}))}})]}),Object(f.jsxs)(j.a,{item:!0,xs:6,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"firstname",label:"firstname",variant:"outlined",autoComplete:"off",value:x.firstname,onChange:function(e){return m(Object(s.a)(Object(s.a)({},x),{},{firstname:e.target.value}))}})]}),Object(f.jsxs)(j.a,{item:!0,xs:6,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"lastname",label:"lastname",variant:"outlined",autoComplete:"off",value:x.lastname,onChange:function(e){return m(Object(s.a)(Object(s.a)({},x),{},{lastname:e.target.value}))}})]}),Object(f.jsxs)(j.a,{item:!0,xs:12,children:[" ",Object(f.jsx)(b.a,{style:{width:"100%"},sx:{m:1},name:"email",label:"email",variant:"outlined",autoComplete:"off",value:x.email,onChange:function(e){return m(Object(s.a)(Object(s.a)({},x),{},{email:e.target.value}))}})]}),Object(f.jsx)(j.a,{item:!0,xs:12,textAlign:"center",children:Object(f.jsx)(h.a,{sx:{ml:3,mr:3,mt:1,mb:1},type:"submit",children:"Update profile"})})]})})})})}var Te=function(){var e=Object(a.useContext)(C).user,t=window,n=(t.innerWidth,t.innerHeight);n-=20;var c=Object(a.useState)(null),o=Object(l.a)(c,2),r=o[0],i=o[1],s=Object(a.useState)(null),d=Object(l.a)(s,2),b=d[0],h=d[1],x=Object(a.useState)(null),m=Object(l.a)(x,2),O=m[0],g=m[1],v=Object(a.useState)(null),S=Object(l.a)(v,2),y=S[0],w=S[1],k=Object(a.useState)(!1),A=Object(l.a)(k,2),_=A[0],M=A[1],I=Object(a.useState)(!1),B=Object(l.a)(I,2),E=B[0],P=B[1],z=Object(a.useState)(!1),D=Object(l.a)(z,2),F=D[0],L=D[1],H=Object(a.useState)(!1),R=Object(l.a)(H,2),U=R[0],W=R[1],Y=localStorage.getItem("authToken");return Object(a.useEffect)((function(){p.a.get("/channel/".concat(e._id),{headers:{Authorization:"Bearer ".concat(Y)}}).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))}),[U]),Object(a.useEffect)((function(){p.a.get("/conversation/".concat(e._id),{headers:{Authorization:"Bearer ".concat(Y)}}).then((function(e){h(e.data)})).catch((function(e){return console.log(e)}))}),[U]),Object(f.jsxs)(j.a,{item:!0,sx:{pl:1,pr:1,pt:1,minHeight:n,maxHeight:n,height:"100%",position:"relative"},xs:12,spacing:1,container:!0,children:[Object(f.jsx)(j.a,{item:!0,lg:3,md:3,xs:12,sx:{height:n},children:Object(f.jsxs)(u.a,{sx:{maxHeight:n,height:"100%",backgroundColor:"#032051db",overflowY:"overlay"},elevation:3,children:[Object(f.jsx)(oe,{openEditProfileModel:F,setOpenEditProfileModel:L}),Object(f.jsx)(T,{channels:r,conversations:b,setConversationId:w,setChannelId:g}),Object(f.jsx)(he,{openAddChannelModel:_,setOpenAddChannelModel:M,openStartConversationModel:E,setOpenStartConversationModel:P,color:"primary","aria-label":"add",sx:{backgroundColor:"#3861a4b5",position:"absolute",bottom:"1rem",ml:"10px",mt:"-10px"}})]})}),Object(f.jsx)(j.a,{item:!0,lg:9,md:9,xs:12,sx:{height:n,position:"relative"},children:Object(f.jsxs)(u.a,{sx:{maxHeight:n,height:"100%",backgroundColor:"#032051db",overflowY:"overlay"},elevation:3,children:[Object(f.jsx)(N,{channelId:O,conversationId:y}),Object(f.jsx)(ke,{openAddChannelModel:_,setOpenAddChannelModel:M,submitted:U,setSubmitted:W}),Object(f.jsx)(Ie,{openStartConversationModel:E,setOpenStartConversationModel:P,submitted:U,setSubmitted:W}),Object(f.jsx)(Ee,{openEditProfileModel:F,setOpenEditProfileModel:L,submitted:U,setSubmitted:W})]})})]})},Pe=function(){var e=Object(i.h)().hash,t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),d=s[0],b=s[1];return Object(a.useEffect)((function(){p.a.get("/auth/verification/".concat(e)).then((function(e){return o(e.data.message)})).catch((function(e){return b("Unknown path")}))}),[]),Object(f.jsx)(j.a,{item:!0,xs:12,children:Object(f.jsxs)(j.a,{item:!0,sx:{m:2},alignSelf:"center",children:[c&&Object(f.jsx)(u.a,{sx:{backgroundColor:"#008000eb",color:"white"},children:Object(f.jsx)("h1",{children:c})}),d&&Object(f.jsx)(u.a,{sx:{backgroundColor:"red",color:"white"},children:Object(f.jsx)("h1",{children:d})})]})})},ze=function(){return Object(f.jsx)(j.a,{item:!0,xs:12})};function De(e){var t=e.children,n=e.redirectTo,c=Object(a.useContext)(C),o=c.isLoggedIn;return c.isLoading?Object(f.jsx)("p",{children:"Is Loading ..."}):o?t:Object(f.jsx)(i.a,{to:n})}var Fe=function(){return Object(f.jsx)(j.a,{item:!0,xs:12,container:!0,children:Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.b,{path:"/signup",element:Object(f.jsx)(v,{})}),Object(f.jsx)(i.b,{path:"/login",element:Object(f.jsx)(y,{})}),Object(f.jsx)(i.b,{path:"/auth/verification/:hash",element:Object(f.jsx)(Pe,{})}),Object(f.jsx)(i.b,{path:"/reset/:hash",element:Object(f.jsx)(ze,{})}),Object(f.jsx)(i.b,{path:"/",element:Object(f.jsx)(De,{redirectTo:"/login",children:Object(f.jsx)(Te,{})})})]})})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},He=n(248);r.a.render(Object(f.jsx)(O.a,{children:Object(f.jsx)(S,{children:Object(f.jsx)(He.a,{injectFirst:!0,children:Object(f.jsx)(Fe,{})})})}),document.getElementById("root")),Le()}},[[190,1,2]]]);
//# sourceMappingURL=main.2c14fa06.chunk.js.map